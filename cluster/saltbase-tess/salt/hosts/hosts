127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4
::1         localhost localhost.localdomain localhost6 localhost6.localdomain6

#the following is generated by salt state hosts.sls
{# iterate through the list of minions and create and hosts file entry for all the ndoes in the cluster #}
{% for host, grain in salt['mine.get']('*', 'grains.items').items() -%}
{% set node_ip = grain.get('ip4_interfaces').get('eth0', None) -%}
{% if not node_ip -%}
	{% set node_ip = grain.get('ip4_interfaces').get('obr0') -%}
{% endif -%}
{% set hostname = grain['host'] -%}
{% set domain_suffix = pillar['domain_suffix'] -%}
{{ node_ip[0] }} {{ hostname }}{{ domain_suffix }} {{ hostname }}
{% set hostname_domain = grain['host'] + "." + pillar['cluster_domain_suffix'] %}
{{ node_ip[0] }} {{ hostname_domain }} {{ hostname_domain }}
{% endfor -%}


{{ pillar['cluster_external_ip'] }} {{ pillar['cluster_external_name'] }} {{ pillar['cluster_external_name'] }}
